# TIL – 확장 메서드 / Nullable / C# 기타 문법 정리
**2025.12.26 금요일**  

## 오늘 배운 핵심 요약  
오늘은 기존 클래스 구조를 건드리지 않고 기능을 확장하는 방법과
C#에서 제공하는 다양한 편의 문법들을 배웠다.
특히 **확장 메서드, 불변 개념, Nullable, 여러 연산자 문법**을 통해
“값을 어떻게 다루고, 안전하게 처리하는가”에 대한 감각을 익혔다.
<br></br>

## 확장 메서드
> 기존 클래스를 수정하지 않고, 기능을 덧붙이는 문법
- 타인이 만든 코드에 직접 메서드를 추가하면 유지보수 및 협업에 문제 발생
- 그래서 "외부에서 기능을 확장"할 수 있도록 만든 구조가 확장 메서드

### 핵심 포인트
- 반드시 `static class` 안에 작성
- 첫 번째 매개변수 앞에 `this` 키워드 사용
- 기존 클래스의 메서드처럼 사용 가능

#### 예시
```csharp
int a = 10;
Console.WriteLine(a.IsEven());  // 확장 메서드처럼 사용
a.Sum(8, 9);
```
확장 메서드는 기존 클래스에 기능을 추가한 것처럼 보이게 만드는 문법 설탕이라는 걸 이해했다.
<br></br>

## Immutable (불변)
> 한 번 만들어진 객체는 내부 값이 변경되지 않는 성질
- `string`, `DateTime` 등은 불변 객체
- 값을 바꾸는 것처럼 보여도 사실은 **새 객체를 만들어 교체하는 방식**

이에 비해 `StringBuilder`는 **가변 객체(Mutable)**로, 문자열을 자주 수정해야 할 때 성능상 유리하다는 것을 배웠다.
<br></br>

## Nullable (`?`)
> null이 될 수 있는 타입을 명시적으로 허용하는 문법
```csharp
int? value = null;
```
- `0`과 `null`을 구분 가능
- `?.` 연산자와 함께 사용하면 null 안전 코드 작성 가능
```csharp
_player?.Attack(); // null이면 실행 안 됨
```
<br></br>

## ?? 연산자
> null 병합 연산자
```csharp
_player = _player ?? new Player();
```
- 왼쪽이 null이면 오른쪽 값을 사용
- null 방어 코드 작성에 매우 유용
<br></br>

## 삼항 연산자
> 조건을 짧게 표현하는 문법
```csharp
return (_player != null) ? _player : new Player();
```
<br></br>

## const / readonly
구분 | 의미
|---|---|
const | 컴파일 타임에 값 고정
readonly | 런타임에 한 번만 설정 가능
- `const`는 기본 타입과 string만 가능
- 객체 타입은 `readonly` 사용
<br></br>

## Tuple
> 여러 개의 값을 묶어서 반환하거나 임시 데이터로 사용
```csharp
(int x, string y, int z) data = (5, "hi", 4);
```
- 편하지만 남발하면 가독성 ↓
- 일회성 데이터에만 사용하는 것이 좋음
<br></br>

## Optional Parameter
> 매개변수에 기본값을 지정하는 문법
```csharp
public Monster(int health = 50)
```
- 값을 전달하지 않으면 기본값 자동 사용
- 객체 생성 시 기본 상태를 쉽게 만들 수 있음
<br></br>

## 느낀 점
- C#은 "값을 안전하게 다루기 위한 문법"이 정말 많다.
- Nullable, ??, 확장 메서드 같은 문법들은 전부 **실수 방지와 코드 안정성을 높이기 위한 장치**라는 걸 느꼈다.
- 프로퍼티, 델리게이트, 불변 개념까지 합쳐 보니 C#은 "안전한 객체 설계"를 위해 만들어진 언어라는 게 체감되기 시작했다.