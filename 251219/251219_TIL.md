# TIL (Today I Learned) – C# 배열 필터링

**날짜: 2025-12-19 금요일**

- 학습 주제

C#에서 배열을 조건에 따라 필터링하는 방법
배열 크기와 실제 사용된 값 관리

<br></br>
### 문제 상황

정수 n과 정수 배열 numlist가 주어질 때, numlist에서 n의 배수만 남긴 배열을 반환하는 함수를 작성해야 함.

##### 예시:

n | numlist | 결과
|---|---|---|
3 | [4,5,6,7,8,9,10,11,12] | [6,9,12]
5 | [1,9,3,10,13,5] | [10,5]
<br></br>  
### 처음 시도에서 헷갈린 부분

#### 배수 조건을 잘못 사용
    
```csharp
if (numlist[i] % 2 == 0) { } // ❌
```

- 의도: n의 배수만 걸러내기
- 문제: 짝수만 걸러냄.
- 해결:

```csharp
if (numlist[i] % n == 0) { } // ✅
```

#### 배열에 값 넣는 방법 혼동

```csharp
answer[] = numlist[i]; // ❌ 문법 오류
```
- 배열은 인덱스를 지정해야 함:
```csharp
answer[index] = numlist[i]; // ✅
index++; // 다음 위치로 이동
```

#### 최종 배열 길이 문제

  - `answer` 배열을 `numlist.Length`로 잡으면 실제 값보다 크기 때문에, 남는 공간이 0으로 채워짐.
  - 해결: 실제 값만 담은 새로운 배열 생성 후 복사
  ```csharp
  int[] result = new int[index];
  for (int i = 0; i < index; i++)
      result[i] = answer[i];
  return result;
  ```

### 최종 완성 코드
```csharp
int[] answer = new int[numlist.Length];
int index = 0; // 실제 값 위치 추적

for (int i = 0; i < numlist.Length; i++)
{
	if (numlist[i] % n == 0) // n의 배수만 필터링
    {
       answer[index] = numlist[i];
       index++;
    }
}

// 실제 값만 담은 새 배열 생성
int[] result = new int[index];
for (int i = 0; i < index; i++)
{
	result[i] = answer[i];
}

return result;
```

---
### 핵심 학습 포인트
- 배수 조건
  - `% n == 0` → n의 배수
  - `% 2 == 0` → 짝수

- 배열에 값 추가
  - 별도의 인덱스 변수를 만들어 위치 추적
  - 최종 배열은 실제 사용된 길이만큼 새로 생성 후 복사